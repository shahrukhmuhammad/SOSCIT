

@model CPCCashInTransit
@{
    ViewBag.Title = "CIT Shipment Details";
    var empList = ViewBag.Employees as List<CPCEmployee>;
    var detailsArray = Model.CPCCashInTransitChilds.ToArray();
    var detailsDenom = Model.CPCCashInTransitDenominations;
    var denomList = ViewBag.DenominationList as List<CPCDenomination>;
}

<div class="row">
    <div class="col-sm-12">
        <div class="panel panel-default">
            <div class="panel-body">
                <h4> @ViewBag.Title </h4>

                <div class="row">
                    <div class="col-sm-12">
                        <div class="row">
                            <div class="col-sm-5">
                                <div class="row form-group">
                                    <label class="col-sm-4 text-left horizontal-label">Date</label>
                                    <div class="col-sm-8">
                                        <div class="input-group input-group-sm">
                                            <label class="label label-default">@Model.Date.ToString(Constants.DATE_FORMAT_CLIENT_SIDE);</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="row form-group">
                                    <label class="col-sm-4 text-left horizontal-label">Shipment Receipt No.</label>
                                    <div class="col-sm-8">
                                        <label class="label label-default">@Model.ShipmentReceiptNumber</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="row form-group">
                                    <label class="col-sm-4 text-left horizontal-label">Vehicle No.</label>
                                    <div class="col-sm-8">
                                        <label class="label label-default">@Model.VehicleNumber</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-5">
                                <div class="row form-group">
                                    <label class="col-sm-4 horizontal-label">Customer To Be Billed</label>
                                    <div class="col-sm-8">
                                        <label class="label label-default">@Model.CustomerToBeBilled</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="row form-group">
                                    <label class="col-sm-4 horizontal-label">A/C Code</label>
                                    <div class="col-sm-8">
                                        <label class="label label-default">@Model.AcCode</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="row form-group">
                                    <label class="col-sm-4 horizontal-label">Collection</label>
                                    <div class="col-sm-8">
                                        <label class="label label-default">@Model.Collection</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-5">
                                <div class="row form-group">
                                    <label class="col-sm-4 text-left horizontal-label">Collection/Date &#38; Time</label>
                                    <div class="col-sm-8">
                                        <label class="label label-default">@Model.CollectionDateTime.ToString(Constants.DATE_FORMAT_CLIENT_SIDE)</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="row form-group">
                                    <label class="col-sm-4 horizontal-label">Delivery</label>
                                    <div class="col-sm-8">
                                        <label class="label label-default">@Model.Delivery</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="row form-group">
                                    <label class="col-sm-4 text-left horizontal-label">Date &#38; Time</label>
                                    <div class="col-sm-8">
                                        <label class="label label-default">@Model.DeliveryDateTime.ToString(Constants.DATE_FORMAT_CLIENT_SIDE)</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="row tb-padding">
                    <table id="mytable" class="table table-striped table-bordered table-hover">
                        <thead>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="2">Seal No</td>
                                @if (detailsArray.Length >= 1)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[0].SealNumber" /></td>
                                }
                                @if (detailsArray.Length >= 2)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[1].SealNumber" /></td>
                                }
                                @if (detailsArray.Length >= 3)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[2].SealNumber" /></td>
                                }
                                @if (detailsArray.Length >= 4)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[3].SealNumber" /></td>
                                }
                                @if (detailsArray.Length == 5)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[4].SealNumber" /></td>
                                }
                            </tr>
                            <tr>
                                <td colspan="2">Item</td>
                                @if (detailsArray.Length >= 1)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[0].Item" /></td>
                                }
                                @if (detailsArray.Length >= 2)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[1].Item" /></td>
                                }
                                @if (detailsArray.Length >= 3)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[2].Item" /></td>
                                }
                                @if (detailsArray.Length >= 4)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[3].Item" /></td>
                                }
                                @if (detailsArray.Length == 5)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[4].Item" /></td>
                                }
                            </tr>
                            <tr>
                                <td colspan="2">Value</td>
                                @if (detailsArray.Length >= 1)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[0].Value" /></td>
                                }
                                @if (detailsArray.Length >= 2)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[1].Value" /></td>
                                }
                                @if (detailsArray.Length >= 3)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[2].Value" /></td>
                                }
                                @if (detailsArray.Length >= 4)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[3].Value" /></td>
                                }
                                @if (detailsArray.Length == 5)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[4].Value" /></td>
                                }
                            </tr>
                            <tr>
                                <td colspan="2">Partial Delivery</td>
                                @if (detailsArray.Length >= 1)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[0].PartialDelivery" /></td>
                                }
                                @if (detailsArray.Length >= 2)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[1].PartialDelivery" /></td>
                                }
                                @if (detailsArray.Length >= 3)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[2].PartialDelivery" /></td>
                                }
                                @if (detailsArray.Length >= 4)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[3].PartialDelivery" /></td>
                                }
                                @if (detailsArray.Length == 5)
                                {
                                    <td><input disabled class="form-control input-sm" value="@detailsArray[4].PartialDelivery" /></td>
                                }
                            </tr>
                        </tbody>
                    </table>

                </div>

                <div class="row">
                    <div class="col-sm-12">
                        <div class="row">
                            <div class="col-sm-4">
                                <div class="row form-group">
                                    <label class="col-sm-4 horizontal-label">Waiting Time</label>
                                    <div class="col-sm-8">
                                        @Html.TextBoxFor(x => x.WaitingTime, new { @class = "form-control input-sm", @disabled = "disabled", @autofocus = "true" })
                                        @Html.ValidationMessageFor(m => m.WaitingTime)
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="row form-group">
                                    <label class="col-sm-4 horizontal-label">No of Plastic/Lead Seals</label>
                                    <div class="col-sm-8">
                                        @Html.TextBoxFor(x => x.NumberOfPlasticLeadSeals, new { @class = "form-control input-sm", @disabled = "disabled", @autofocus = "true" })
                                        @Html.ValidationMessageFor(m => m.NumberOfPlasticLeadSeals)
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="row form-group">
                                    <label class="col-sm-4 horizontal-label">No. of Bags</label>
                                    <div class="col-sm-8">
                                        @Html.TextBoxFor(x => x.NumberOfBags, new { @class = "form-control input-sm", @disabled = "disabled", @autofocus = "true" })
                                        @Html.ValidationMessageFor(m => m.NumberOfBags)
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <div class="row form-group">
                                    <label class="col-sm-4 horizontal-label">Days In Vault</label>
                                    <div class="col-sm-8">
                                        @Html.TextBoxFor(x => x.DaysInVault, new { @class = "form-control input-sm", @disabled = "disabled", @autofocus = "true" })
                                        @Html.ValidationMessageFor(m => m.DaysInVault)
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="row form-group">
                                    <label class="col-sm-4 horizontal-label">No. of Wage Packets</label>
                                    <div class="col-sm-8">
                                        @Html.TextBoxFor(x => x.NumberOfWagePackets, new { @class = "form-control input-sm", @disabled = "disabled", @autofocus = "true" })
                                        @Html.ValidationMessageFor(m => m.NumberOfWagePackets)
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="row form-group">
                                    <label class="col-sm-4 horizontal-label">No. of Additional Service</label>
                                    <div class="col-sm-8">
                                        @Html.TextBoxFor(x => x.NumberOfAdditionalService, new { @class = "form-control input-sm", @disabled = "disabled", @autofocus = "true" })
                                        @Html.ValidationMessageFor(m => m.NumberOfAdditionalService)
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-sm-6">
                                <div class="row form-group">
                                    <label class="col-sm-4 text-left horizontal-label">Consigned By A</label>
                                    <div class="col-sm-8">
                                        <label class="label label-default">@(Model.ConsignedByNameA != null ? empList.Where(x => x.Id == Model.ConsignedByNameA).FirstOrDefault().Name : "")</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="row form-group">
                                    <label class="col-sm-4 text-left horizontal-label">Consigned By B</label>
                                    <div class="col-sm-8">
                                        <label class="label label-default">@(Model.ConsignedByNameB != null ? empList.Where(x => x.Id == Model.ConsignedByNameA).FirstOrDefault().Name : "")</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="row form-group">
                                    <label class="col-sm-4 text-left horizontal-label">Accepted By SOS  A</label>
                                    <div class="col-sm-8">
                                        <label class="label label-default">@(Model.AcceptedByNameA != null ? empList.Where(x => x.Id == Model.ConsignedByNameA).FirstOrDefault().Name : "")</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="row form-group">
                                    <label class="col-sm-4 horizontal-label">Accepted By SOS B</label>
                                    <div class="col-sm-8">
                                        <label class="label label-default">@(Model.AcceptedByNameB != null ? empList.Where(x => x.Id == Model.ConsignedByNameA).FirstOrDefault().Name : "")</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="row form-group">
                                    <label class="col-sm-4 horizontal-label">Received By A</label>
                                    <div class="col-sm-8">
                                        <label class="label label-default">@(Model.ReceivedByNameA != null ? empList.Where(x => x.Id == Model.ConsignedByNameA).FirstOrDefault().Name : "")</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="row form-group">
                                    <label class="col-sm-4 horizontal-label">Received By B</label>
                                    <div class="col-sm-8">
                                        <label class="label label-default">@(Model.ReceivedByNameB != null ? empList.Where(x => x.Id == Model.ConsignedByNameA).FirstOrDefault().Name : "")</label>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <table id="mytable" class="table table-striped table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th colspan="9" class="text-center">Details of Packets</th>
                                    </tr>
                                    <tr>
                                        <th colspan="9" class="text-center">Denomination No of Packets</th>
                                    </tr>
                                </thead>
                                @{ 
                                    var finalNumberOfPackets = 0;
                                    var finalTotalValue = 0;
                                }
                                <tbody>
                                    <tr>
                                        <td>Rs. 5000 x </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 5000).FirstOrDefault().NumberOfPackets)
                                            @{ finalNumberOfPackets += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 5000).FirstOrDefault().NumberOfPackets); }
                                        </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 5000).FirstOrDefault().TotalValue)
                                            @{ finalTotalValue += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 5000).FirstOrDefault().TotalValue); }
                                        </td>
                                        <td>Nos.</td>
                                    </tr>
                                    <tr>
                                        <td>Rs. 1000 x </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 1000).FirstOrDefault().NumberOfPackets)
                                            @{ finalNumberOfPackets += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 1000).FirstOrDefault().NumberOfPackets); }
                                        </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 1000).FirstOrDefault().TotalValue)
                                            @{ finalTotalValue += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 1000).FirstOrDefault().TotalValue); }
                                        </td>
                                        <td>Nos.</td>
                                    </tr>
                                    <tr>
                                        <td>Rs. 500 x </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 500).FirstOrDefault().NumberOfPackets)
                                            @{ finalNumberOfPackets += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 500).FirstOrDefault().NumberOfPackets); }
                                        </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 500).FirstOrDefault().TotalValue)
                                            @{ finalTotalValue += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 500).FirstOrDefault().TotalValue); }
                                        </td>
                                        <td>Nos.</td>
                                    </tr>
                                    <tr>
                                        <td>Rs. 100 x </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 100).FirstOrDefault().NumberOfPackets)
                                            @{ finalNumberOfPackets += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 100).FirstOrDefault().NumberOfPackets); }
                                        </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 100).FirstOrDefault().TotalValue)
                                            @{ finalTotalValue += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 100).FirstOrDefault().TotalValue); }
                                        </td>
                                        <td>Nos.</td>
                                    </tr>
                                    <tr>
                                        <td>Rs. 50 x </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 50).FirstOrDefault().NumberOfPackets)
                                            @{ finalNumberOfPackets += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 50).FirstOrDefault().NumberOfPackets); }
                                        </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 50).FirstOrDefault().TotalValue)
                                            @{ finalTotalValue += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 50).FirstOrDefault().TotalValue); }
                                        </td>
                                        <td>Nos.</td>
                                    </tr>
                                    <tr>
                                        <td>Rs. 20 x </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 20).FirstOrDefault().NumberOfPackets)
                                            @{ finalNumberOfPackets += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 20).FirstOrDefault().NumberOfPackets); }
                                        </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 20).FirstOrDefault().TotalValue)
                                            @{ finalTotalValue += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 20).FirstOrDefault().TotalValue); }
                                        </td>
                                        <td>Nos.</td>
                                    </tr>
                                    <tr>
                                        <td>Rs. 10 x </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 10).FirstOrDefault().NumberOfPackets)
                                            @{ finalNumberOfPackets += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 10).FirstOrDefault().NumberOfPackets); }
                                        </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 10).FirstOrDefault().TotalValue)
                                            @{ finalTotalValue += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 10).FirstOrDefault().TotalValue); }
                                        </td>
                                        <td>Nos.</td>
                                    </tr>
                                    <tr>
                                        <td>Rs. 5 x </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 5).FirstOrDefault().NumberOfPackets)
                                            @{ finalNumberOfPackets += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 5).FirstOrDefault().NumberOfPackets); }
                                        </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 5).FirstOrDefault().TotalValue)
                                            @{ finalTotalValue += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 5).FirstOrDefault().TotalValue); }
                                        </td>
                                        <td>Nos.</td>
                                    </tr>
                                    <tr>
                                        <td>Rs. 2 x </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 2).FirstOrDefault().NumberOfPackets)
                                            @{ finalNumberOfPackets += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 2).FirstOrDefault().NumberOfPackets); }
                                        </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 2).FirstOrDefault().TotalValue)
                                            @{ finalTotalValue += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 2).FirstOrDefault().TotalValue); }
                                        </td>
                                        <td>Nos.</td>
                                    </tr>
                                    <tr>
                                        <td>Rs. 1 x </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 1).FirstOrDefault().NumberOfPackets)
                                            @{ finalNumberOfPackets += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 1).FirstOrDefault().NumberOfPackets); }
                                        </td>
                                        <td>
                                            @(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 1).FirstOrDefault().TotalValue)
                                            @{ finalTotalValue += Convert.ToInt32(detailsDenom.Where(x => x.CPCDenomination.DenominationTitle == 1).FirstOrDefault().TotalValue); }
                                        </td>
                                        <td>Nos.</td>
                                    </tr>
                                    <tr>
                                        <td><b>Total</b></td>
                                        <td>@finalNumberOfPackets</td>
                                        <td>@finalTotalValue</td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>